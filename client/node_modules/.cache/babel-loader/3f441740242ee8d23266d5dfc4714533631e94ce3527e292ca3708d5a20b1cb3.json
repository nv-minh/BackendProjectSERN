{"ast":null,"code":"var _jsxFileName = \"/media/minhnv/Working/Coding/ProjectSERN/client/src/containers/Public/Login.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { Button } from '../../components';\nimport InputForm from '../../components/InputForm';\nimport path from '../../ultils/constant';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [loginForm, setLoginForm] = useState({\n    userName: '',\n    phone: '',\n    password: ''\n  });\n  const [invalidFields, setInvalidFields] = useState([]);\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const validate = loginForm => {\n    let invalid = 0;\n    let fields = Object.entries(loginForm);\n    fields.slice(1).forEach(field => {\n      if (field[1] === '') setInvalidFields(previous => [...previous, {\n        name: field[0],\n        message: 'Bạn không được bỏ trống trường này!'\n      }]);\n      console.log(invalidFields);\n      invalid++;\n    });\n    fields.slice(1).forEach(field => {\n      switch (field[0]) {\n        case 'password':\n          if (field[1].length < 6) {\n            setInvalidFields(previous => [...previous, {\n              name: field[0],\n              message: 'Mật khẩu phải có tối thiểu 6 kí tự!'\n            }]);\n            console.log(invalidFields);\n            invalid++;\n          }\n          break;\n        case 'phone':\n          if (!+field[1]) {\n            setInvalidFields(previous => [...previous, {\n              name: field[0],\n              message: 'Số điện thoại không hợp lệ!'\n            }]);\n            invalid++;\n          }\n      }\n    });\n    return invalid;\n  };\n  const handleClickButton = async () => {\n    try {\n      let invalids = await validate(loginForm);\n      console.log('🚀 ~ file: Login.tsx:67 ~ handleClickButton ~ invalids', invalids);\n      console.log('🚀 ~ file: Login.tsx:19 ~ Login ~ invalidFields', invalidFields);\n\n      // const loginData = await apiLogin(loginForm);\n      // dispatch(actions.login(loginForm) as unknown as any);\n      // if (loginData?.data.success === true) {\n      //   alert('Chúc mừng bạn đã đăng nhập thành công');\n      //   navigate('/');\n      //   setLoginForm({ userName: '', phone: '', password: '' });\n      // }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white w-[600px] max-w-600 p-[30px] pb-[100px] rounded-md shadow-sm\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"mb-3 text-2xl font-semibold\",\n      children: \"\\u0110\\u0103ng nh\\u1EADp\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col w-full gap-5\",\n      children: [/*#__PURE__*/_jsxDEV(InputForm, {\n        label: 'Số Điện Thoại',\n        typeInput: 'text',\n        value: loginForm.phone,\n        type: 'phone',\n        setValue: setLoginForm,\n        invalidFields: invalidFields\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputForm, {\n        label: 'Mật Khẩu',\n        typeInput: 'password',\n        type: 'password',\n        value: loginForm.password,\n        setValue: setLoginForm,\n        invalidFields: invalidFields\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        text: \"\\u0110\\u0103ng Nh\\u1EADp\",\n        textColor: \"text-white\",\n        bgColor: \"!bg-secondary1\",\n        fullWidth: true,\n        onClick: () => {\n          handleClickButton();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between mt-7\",\n      children: [/*#__PURE__*/_jsxDEV(\"small\", {\n        className: \"text-[blue] hover:text-[red] cursor-pointer\",\n        children: \"B\\u1EA1n Qu\\xEAn M\\u1EADt Kh\\u1EA9u\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n        to: path.REGISTER,\n        children: /*#__PURE__*/_jsxDEV(\"small\", {\n          className: \"text-[blue] hover:text-[red] cursor-pointer\",\n          children: \"T\\u1EA1o T\\xE0i Kho\\u1EA3n M\\u1EDBi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"dyANxUoKzE+eoKjVqU5bUwkX2Vw=\", false, function () {\n  return [useNavigate, useDispatch];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","NavLink","Button","InputForm","path","useDispatch","useNavigate","Login","loginForm","setLoginForm","userName","phone","password","invalidFields","setInvalidFields","navigate","dispatch","validate","invalid","fields","Object","entries","slice","forEach","field","previous","name","message","console","log","length","handleClickButton","invalids","error","REGISTER"],"sources":["/media/minhnv/Working/Coding/ProjectSERN/client/src/containers/Public/Login.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { Button } from '../../components';\nimport InputForm from '../../components/InputForm';\nimport path from '../../ultils/constant';\nimport { apiLogin } from '../../services/auth';\nimport { useDispatch } from 'react-redux';\nimport * as actions from '../../store/actions';\nimport { useNavigate } from 'react-router';\nimport { IUser } from './../../interface/User';\n\nconst Login = () => {\n  const [loginForm, setLoginForm] = useState({\n    userName: '',\n    phone: '',\n    password: '',\n  });\n  const [invalidFields, setInvalidFields] = useState<Array<Object>>([]);\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const validate = (loginForm: IUser) => {\n    let invalid = 0;\n    let fields = Object.entries(loginForm);\n    fields.slice(1).forEach((field) => {\n      if (field[1] === '')\n        setInvalidFields((previous) => [\n          ...previous,\n          {\n            name: field[0],\n            message: 'Bạn không được bỏ trống trường này!',\n          },\n        ]);\n      console.log(invalidFields);\n      invalid++;\n    });\n    fields.slice(1).forEach((field) => {\n      switch (field[0]) {\n        case 'password':\n          if (field[1].length < 6) {\n            setInvalidFields((previous) => [\n              ...previous,\n              {\n                name: field[0],\n                message: 'Mật khẩu phải có tối thiểu 6 kí tự!',\n              },\n            ]);\n            console.log(invalidFields);\n            invalid++;\n          }\n          break;\n        case 'phone':\n          if (!+field[1]) {\n            setInvalidFields((previous) => [\n              ...previous,\n              {\n                name: field[0],\n                message: 'Số điện thoại không hợp lệ!',\n              },\n            ]);\n            invalid++;\n          }\n      }\n    });\n\n    return invalid;\n  };\n  const handleClickButton = async () => {\n    try {\n      let invalids = await validate(loginForm);\n      console.log('🚀 ~ file: Login.tsx:67 ~ handleClickButton ~ invalids', invalids);\n      console.log('🚀 ~ file: Login.tsx:19 ~ Login ~ invalidFields', invalidFields);\n\n      // const loginData = await apiLogin(loginForm);\n      // dispatch(actions.login(loginForm) as unknown as any);\n      // if (loginData?.data.success === true) {\n      //   alert('Chúc mừng bạn đã đăng nhập thành công');\n      //   navigate('/');\n      //   setLoginForm({ userName: '', phone: '', password: '' });\n      // }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <div className=\"bg-white w-[600px] max-w-600 p-[30px] pb-[100px] rounded-md shadow-sm\">\n      <h3 className=\"mb-3 text-2xl font-semibold\">Đăng nhập</h3>\n      <div className=\"flex flex-col w-full gap-5\">\n        <InputForm\n          label={'Số Điện Thoại'}\n          typeInput={'text'}\n          value={loginForm.phone}\n          type={'phone'}\n          setValue={setLoginForm}\n          invalidFields={invalidFields}\n        />\n        <InputForm\n          label={'Mật Khẩu'}\n          typeInput={'password'}\n          type={'password'}\n          value={loginForm.password}\n          setValue={setLoginForm}\n          invalidFields={invalidFields}\n        />\n        <Button\n          text=\"Đăng Nhập\"\n          textColor=\"text-white\"\n          bgColor=\"!bg-secondary1\"\n          fullWidth\n          onClick={() => {\n            handleClickButton();\n          }}\n        />\n      </div>\n      <div className=\"flex justify-between mt-7\">\n        <small className=\"text-[blue] hover:text-[red] cursor-pointer\">\n          Bạn Quên Mật Khẩu\n        </small>\n        <NavLink to={path.REGISTER}>\n          <small className=\"text-[blue] hover:text-[red] cursor-pointer\">\n            Tạo Tài Khoản Mới\n          </small>\n        </NavLink>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}